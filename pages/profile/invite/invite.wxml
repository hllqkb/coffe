<!--pages/profile/invite/invite.wxml-->
<view class="invite-container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">邀请好友</text>
    <text class="page-subtitle">邀请好友一起种植咖啡树</text>
  </view>

  <!-- 邀请码卡片 -->
  <view class="invite-card">
    <view class="invite-code-section">
      <text class="invite-label">我的邀请码</text>
      <view class="invite-code-box">
        <text class="invite-code">{{inviteCode}}</text>
        <button class="copy-btn" bindtap="copyInviteCode">
          <image src="/images/icons/copy.png" class="copy-icon"></image>
          复制
        </button>
      </view>
    </view>
    
    <view class="invite-stats">
      <view class="stat-item">
        <text class="stat-number">{{inviteCount}}</text>
        <text class="stat-label">已邀请人数</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-number">{{inviteReward}}</text>
        <text class="stat-label">获得金币</text>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="action-btn primary" bindtap="shareToFriend">
      <image src="/images/icons/share.png" class="btn-icon"></image>
      分享给好友
    </button>
    <button class="action-btn secondary" bindtap="showInviteRules">
      <image src="/images/icons/help.png" class="btn-icon"></image>
      邀请规则
    </button>
  </view>

  <!-- 邀请奖励说明 -->
  <view class="reward-info">
    <view class="reward-title">
      <image src="/images/icons/gift.png" class="gift-icon"></image>
      <text>邀请奖励</text>
    </view>
    <view class="reward-list">
      <view class="reward-item">
        <view class="reward-icon">
          <image src="/images/coin.png"></image>
        </view>
        <view class="reward-text">
          <text class="reward-title">邀请奖励</text>
          <text class="reward-desc">每成功邀请1人获得10金币</text>
        </view>
      </view>
      <view class="reward-item">
        <view class="reward-icon">
          <image src="/images/coin.png"></image>
        </view>
        <view class="reward-text">
          <text class="reward-title">新人奖励</text>
          <text class="reward-desc">被邀请用户获得5金币</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 邀请记录 -->
  <view class="invite-records" wx:if="{{inviteList.length > 0}}">
    <view class="records-title">邀请记录</view>
    <view class="records-list">
      <view class="record-item" wx:for="{{inviteList}}" wx:key="_id">
        <view class="record-avatar">
          <image src="{{item.inviteeAvatar || '/images/default-avatar.png'}}"></image>
        </view>
        <view class="record-info">
          <text class="record-name">{{item.inviteeName || '新用户'}}</text>
          <text class="record-time">{{item.createTime}}</text>
        </view>
        <view class="record-reward">
          <text class="reward-amount">+10</text>
          <image src="/images/coin.png" class="coin-icon"></image>
        </view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{inviteList.length === 0 && !loading}}">
    <image src="/images/empty/no-invites.png" class="empty-image"></image>
    <text class="empty-text">还没有邀请记录</text>
    <text class="empty-desc">快去邀请好友一起种植咖啡树吧！</text>
  </view>

  <!-- 加载状态 -->
  <view class="loading-state" wx:if="{{loading}}">
    <image src="/images/loading.gif" class="loading-icon"></image>
    <text class="loading-text">加载中...</text>
  </view>
</view>